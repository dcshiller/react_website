<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/critter.css">
    <link rel="stylesheet" href="fa/css/font-awesome.min.css">

    <script src="helpers.js" charset="utf-8"></script>
    <script src="bundle.js" charset="utf-8"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-36693042-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <img src="images/billy.png" class="hidden" alt=""/>
    <header>
      <label id="menu_label">Menu</label>
      <ul id="menu_menu">
        <li id="about_menu_selector" class="active_selection selectable" data-menu="about_menu">About</li>
        <li id="action_menu_selector" class="active_selection selectable" data-menu="action_menu">Action Menu</li>
        <li id="node_menu_selector" class="selectable" data-menu="node_menu">Node Menu</li>
        <li id="navigation_menu_selector" class="selectable" data-menu="navigation_menu">Navigation Menu</li>
        <li id="play_menu_selector" class="selectable" data-menu="play_menu">Play Menu</li>
        <li id="critter_cam_selector" class="selectable" data-menu="critter_cam">Critter Cam</li>
        <hr>
        <li id="save_button" data-mode="save">Save</i></li>
        <li id="load_button" name="button">Load</li>
        <input type="file" id="upload_file" style="display: none;" name="" value=""></input>
      </ul>

    </header>
    <div id="about_menu" class="menu">
      <h1 class="menu_title">
          About NNP
          <i class='closer fa fa-times' data-close-menu="about_menu"></i>
        </h1>
      <h3 class="menu_title">Overview</h3>
      <p>This program can be used to create, run, and save simple neural networks.</p>
      <img src="./images/sample_network.png" alt="sample network">
      <p>A neural network consists of a set of interconnected nodes. Each node has a state, which can be either on or off, a threshold, and a set of connection weights with other nodes.</p>
      <p>When it is run, the network will evolve over time. At any given time, whether a node is on or not will depend upon the prior states of the nodes with which it is connected. If the weighted sum of the connections of the nodes with which it is connected exceed its threshold, the node turns on. Otherwise, it turns off.</p>
      <div class="row">
        <div class="">
          <img src="./images/sample_ignition_1.png" alt="sample evolution">
          <img src="./images/sample_ignition_2.png" alt="sample evolution">
          <img src="./images/sample_threshold_1.png" alt="sample evolution">
          <img src="./images/sample_threshold_2.png" alt="sample evolution">
        </div>
      </div>
      <p>Additionally, there are two special kinds of nodes: noisy nodes and functional nodes. Noisy nodes have a chance of turning on at any given time, regardless of the prior state of their connections.</p><p>Functional nodes execute a specific action when they turn on. The available actions all control the critter ('billy'). These include turning left and right and moving forward. </p>
      <h3 class="menu_title">Interface</h3>
      <p>There are a number of separate panels that control different aspects of the simulation. Each panel can be toggled visible or invisible from the menu controller in the top left. Panels can be dragged around to manage space. Just click and hold for a second, then drag the panel where you want it to be.</p>
      <div class="row">
        <img src="./images/menu_menu.png" alt="" height="150px">
        <ul>
          <li>About Menu</li>
          <li>Action Menu</li>
          <li>Navigation Menu</li>
          <li>Node Menu</li>
          <li>Play Menu</li>
          <li>Critter Cam</li>
        </ul>
      </div>
      <p>Networks can also be saved and loaded from this dropdown. Networks are saved to files on the users local machine.</p>
      <p>The <strong>action panel</strong> allows the user to add or alter nodes on the canvas. These actions are:</p>
      <div class="row">
        <img src="./images/action_menu.png" alt="" height="200px">
        <ul class="column" height="200px">
          <li>Select a node (have it appear in the node menu)</li>
          <li>Place a node on the canvas</li>
          <li>Move an existing node</li>
          <li>Connect two nodes</li>
          <li>Activate a node</li>
          <li>Delete a node</li>
          <li>Clear the network</li>
        </ul>
      </div>
      <p>The <strong>node panel</strong> allows the user to alter the options associated with a particular node and its connections. </p>
      <div class="row">
        <img src="./images/node_menu.png" alt="" height="400px">
          <ul class="column">
            <li>The node's <strong>name</strong>. This has no affect on anything but the presentation. In order to save your network, however, you will need to assign each node a unique name. Nodes are automatically assigned unique numbers.</li>
            <li>The node's <strong>threshold</strong>. This is the number that must be exceeded by the weighted *on* connected nodes for this node to turn on at the next time. It is represented by thicker boundaries of the node on the canvas.</li>
            <li>The node's <strong>type</strong>. Whether it is a normal, noisy, or functional node.</li>
            <li>The node's <strong>noisiness</strong> (i.e. its probability of turning on) <em>if it is a noisy node</em>.</li>
            <li>The node's <strong>function</strong>, <em>if it is a functional node</em>. These functions all relate to the behavior of billy, the critter viewable on the critter cam.</li>
            <li>The node's afferent and efferent <strong>connections</strong>, along with controls to change their weights.</li>
          </ul>
      </div>
      <br><br>
      <div class="row">
        <img src="./images/play_menu.png" alt="" height="70px">
        <p>The <strong>play menu</strong> controls whether the network is actively updating or not. While playing the network will update itself every second. You can also step through each update with the advance button.</p>
      </div>
      <div class="row">
        <img src="./images/navigation_menu.png" alt="" height="100px">
        <p>The <strong>navigation panel</strong> allows the user to move around the canvas. The directional arrows move the view in the corresponding direction, and the central buttons allow for zooming in and out.</p>
      </div>
      <br><br>
      <div class="row">
        <img src="./images/critter_cam.png" alt="" height="100px">
        <p>The <strong>critter cam</strong> displays billy comfortably situated in his cambrian soup. The functions associated with functional nodes can change his location, and these changes will appear here.</p>
      </div>
      <br><br>
      <h6 class="menu_title">Derek Shiller 2017</h6>
    </div>
    <ul id="action_menu" class="menu">
      <li data-mode="select"><img src="images/select.png" alt=""></li>
      <li data-mode="place"><img src="images/place.png" alt=""></li>
      <li data-mode="move"><img src="images/move.png" alt=""></li>
      <li data-mode="connect"><img src="images/connect.png" alt=""></li>
      <li data-mode="toggle"><img src="images/toggle.png" alt=""></li>
      <li data-mode="delete"><img src="images/delete.png" alt=""></li>
      <li id="clear_button" data-mode="clear">Clear</li>
    </ul>
    <ul id="play_menu" class="menu hidden">
      <li id="play_button" data-mode="play"><i class="fa fa-play" aria-hidden="true"></i></li>
      <li id="advance_button" data-mode="advance"><i class="fa fa-step-forward" aria-hidden="true"></i></li>
    </ul>
    <div id="navigation_menu" class="menu hidden">
      <div class="relative">
        <div id="up_button" class="up_arrow"></div>
        <div id="down_button" class="down_arrow"></div>
        <div id="left_button" class="left_arrow"></div>
        <div id="right_button" class="right_arrow"></div>
        <div class="nav_buttons column">
          <div class="row">
            <div id="zoom_in_button"><i class="fa fa-expand"></i></div>
            <div id="zoom_out_button"><i class="fa fa-compress"></i></div>
          </div>
          <div class="row">
            <div id="reset_zoom_button"><i class="fa fa-bullseye"></i></div>
          </div>
        </div>
      </div>
    </div>
    <div id="node_menu" class="focused_node column menu hidden" style="justify-content: flex-start;">
      <div class="column hidden">
        <h1>Node in Focus</h1>
        <hr>
        <div class="row">
          <h4> Name </h4>
          <input type="text" id="node_name"></input>
        </div>
        <div class="row">
          <h4> Threshold </h4>
          <div class="">
            <button id="raise_threshold">+</button>
            <button id="lower_threshold">-</button>
          </div>
          <h2 id="node_threshold">--</h2>
        </div>
        <div class="row">
          <h4>Node Type</h4>
          <div class="">
            <select id="node_type" name="">
              <option value="Node">Node</option>
              <option value="FunctionalNode">Functional Node</option>
              <option value="NoisyNode">Noisy Node</option>
            </select>
          </div>
        </div>
        <div class="row function">
          <h4>Function</h4>
          <select id="node_func_select" name="nodeFunction">
          </select>
        </div>
        <div class="row probability">
          <h4>Noisiness</h4>
          <input id="prob_range" type="range" name="" value="0.5" min="0" max="1.0" step="0.01">
          <span id="prob_value"></span>
        </div>
      </div>
      <div class="column hidden">
        <div class="column connection_column">
          <h3 class="t-center">Afferent Connections</h3>
          <div class="row connection_row" id="connection_to_row">
            <ul id="afferent_connection_list"></ul>
          </div>
        </div>
        <div class="column connection_column">
          <h3 class="t-center">Efferent Connections</h3>
          <div class="connection_row text-center" id="connection_from_row">
            <ul id="efferent_connection_list"> </ul>
          </div>
        </div>
      </div>
    </div>
    <canvas id="critter_cam" class="menu hidden"></canvas>
  </body>
</html>
